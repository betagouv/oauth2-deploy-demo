{
  "name": "oauth2-deploy-demo",
  "formation": {
    "web": {
      "quantity": 1,
      "size": "S"
    }
  },
  "addons": [],
  "buildpacks": [
    { "url": "Scalingo/nodejs-buildpack" },
    {
      "url": "betagouv/scalingo-oauth2-proxy"
    }
  ],
  "env": {
    "APP_BASE_URL": {
      "generator": "url"
    },
    "OAUTH2_PROXY_HTTP_ADDRESS": {
      "value": "0.0.0.0:4180"
    },
    "OAUTH2_PROXY_WHITELIST_DOMAINS": {
      "value": "*.scalingo.io"
    },
    "OAUTH2_PROXY_REDIRECT_URL": {
      "generator": "url",
      "value": "%URL%/oauth2/callback"
    },
    "OAUTH2_PROXY_BANNER": {
      "value": "hello oauth"
    },
    "OAUTH2_PROXY_FOOTER": {
      "value": "powered by oauth2-proxy"
    },
    "OAUTH2_PROXY_PROVIDER": {
      "value": "github"
    },
    "OAUTH2_PROXY_GITHUB_ORG": {
      "value": "betagouv"
    },
    "OAUTH2_PROXY_SCOPE": {
      "value": "read:org user:email"
    },
    "OAUTH2_PROXY_EMAIL_DOMAINS": {
      "value": "*"
    },
    "OAUTH2_PROXY_COOKIE_SECURE": {
      "value": "true"
    },
    "OAUTH2_PROXY_COOKIE_DOMAINS": {
      "generator": "template",
      "value": ".%APP%.osc-fr1.scalingo.io"
    },
    "OAUTH2_PROXY_CUSTOM_SIGN_IN_LOGO": {
      "value": "https://avatars.githubusercontent.com/u/7874148?s=200&v=4"
    },
    "OAUTH2_PROXY_REVERSE_PROXY": {
      "value": "true"
    },
    "OAUTH2_PROXY_SKIP_PROVIDER_BUTTON": {
      "value": "false"
    },
    "OAUTH2_PROXY_SET_XAUTHREQUEST": {
      "value": "true"
    },
    "OAUTH2_PROXY_SET_AUTHORIZATION_HEADER": {
      "value": "true"
    }
  },
  "scripts": {}
}
